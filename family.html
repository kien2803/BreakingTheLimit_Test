<!DOCTYPE html>
<html lang="vi">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Family Connection - Breaking The Limit</title>

  <link href="https://cdn-uicons.flaticon.com/uicons-solid-rounded/css/uicons-solid-rounded.css" rel="stylesheet">
  <link href="https://cdn-uicons.flaticon.com/uicons-regular-rounded/css/uicons-regular-rounded.css" rel="stylesheet">
  <link rel="stylesheet" href="css/reset.css">
  <link rel="stylesheet" href="css/variables.css">
  <link rel="stylesheet" href="css/main.css">
  <link rel="stylesheet" href="css/family.css">
  <link rel="stylesheet" href="css/darkmode.css">
  <link rel="stylesheet" href="css/settings.css">
</head>

<body>

  <!-- SIDEBAR -->
  <aside class="sidebar">
    <div class="sidebar-icon">â˜°</div>
    <a href="dashboard.html">
      <div class="sidebar-icon active"><i class="fi fi-sr-home"></i></div>
    </a>
    <a href="chat.html">
      <div class="sidebar-icon"><i class="fi fi-sr-comment-alt-dots"></i></div>
    </a>
    <a href="journal.html">
      <div class="sidebar-icon"><i class="fi fi-sr-document"></i></div>
    </a>
    <a href="photos.html">
      <div class="sidebar-icon"><i class="fi fi-sr-picture"></i></div>
    </a>
    <a href="friends.html">
      <div class="sidebar-icon"><i class="fi fi-br-users"></i></div>
    </a>
    <a href="family.html">
      <div class="sidebar-icon"><img src="assets/people-roof.png" alt=""></div>
    </a>
    <div class="sidebar-icon"><i class="fi fi-sr-calendar"></i></div>
    <div class="sidebar-icon"><i class="fi fi-sr-house-chimney"></i></div>

    <div class="sidebar-spacer"></div>

    <div class="sidebar-icon"><i class="fi fi-sr-user"></i></div>
  </aside>


  <!-- HEADER -->
  <header class="header">
    <div class="header-logo">
      <div class="header-logo-icon">ğŸ¡</div>
      <span>Family Connection</span>
    </div>
  </header>

  <!-- MAIN -->
  <main class="main-container">
    <div class="family-wrapper">

      <!-- Page Title -->
      <div class="page-header">
        <h1 class="page-title">ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ Káº¿t ná»‘i gia Ä‘Ã¬nh</h1>
        <p class="page-subtitle">Äá»“ng hÃ nh cÃ¹ng con, khÃ´ng kiá»ƒm soÃ¡t</p>
      </div>

      <!-- Role Check -->
      <div id="roleCheck"></div>

      <!-- FOR CHILD: Connection Status -->
      <div id="childView" style="display: none;">
        <div class="connection-card">
          <div class="connection-header">
            <h3>ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ Káº¿t ná»‘i vá»›i gia Ä‘Ã¬nh</h3>
          </div>

          <div id="connectionStatus">
            <!-- Sáº½ render báº±ng JS -->
          </div>

          <div class="invite-section">
            <h4>ğŸ”— Má»i cha máº¹ káº¿t ná»‘i</h4>
            <p class="invite-desc">Chia sáº» link nÃ y vá»›i cha máº¹ Ä‘á»ƒ há» cÃ³ thá»ƒ theo dÃµi cáº£m xÃºc cá»§a báº¡n</p>
            <div class="invite-link-box">
              <input type="text" id="childInviteLink" class="invite-input" readonly>
              <button class="btn-copy" id="btnCopyChild">ğŸ“‹ Copy</button>
            </div>
          </div>

          <div class="privacy-note">
            <span class="privacy-icon">ğŸ”’</span>
            <div class="privacy-text">
              <strong>Quyá»n riÃªng tÆ° cá»§a báº¡n:</strong>
              <p>Gia Ä‘Ã¬nh chá»‰ xem Ä‘Æ°á»£c biá»ƒu Ä‘á»“ cáº£m xÃºc vÃ  mood, KHÃ”NG xem Ä‘Æ°á»£c ná»™i dung nháº­t kÃ½</p>
            </div>
          </div>
        </div>
      </div>

      <!-- FOR FAMILY: Dashboard -->
      <div id="familyView" style="display: none;">

        <!-- Connect Child -->
        <div class="connection-card">
          <h3>â• Káº¿t ná»‘i vá»›i con</h3>
          <p>Nháº­p link má»i tá»« con hoáº·c nháº­p mÃ£ káº¿t ná»‘i</p>
          <div class="connect-input-group">
            <input type="text" id="connectCode" class="connect-input" placeholder="DÃ¡n link hoáº·c nháº­p mÃ£...">
            <button class="btn-connect" id="btnConnect">Káº¿t ná»‘i</button>
          </div>
        </div>

        <!-- Connected Children -->
        <div class="children-list" id="childrenList">
          <!-- Sáº½ render báº±ng JS -->
        </div>

      </div>

    </div>
  </main>

  <!-- Child Detail Modal -->
  <div class="modal-overlay" id="childModal">
    <div class="modal-box modal-large">
      <div class="modal-header">
        <h3 id="modalChildName">ğŸ‘¤ Chi tiáº¿t</h3>
        <button class="modal-close" id="modalClose">âœ•</button>
      </div>

      <div class="modal-body">
        <!-- Emotion Chart -->
        <div class="chart-section">
          <h4>ğŸ“Š Biá»ƒu Ä‘á»“ cáº£m xÃºc 7 ngÃ y</h4>
          <canvas id="childEmotionChart" width="600" height="250"></canvas>
        </div>

        <!-- Stats -->
        <div class="stats-grid" id="childStats">
          <!-- Render báº±ng JS -->
        </div>

        <!-- Alert if negative emotions -->
        <div id="alertSection"></div>
      </div>
    </div>
  </div>

  <!-- Toast -->
  <div id="toast" class="toast"></div>

  <script src="js/darkmode.js"></script>
  <script src="js/settings.js"></script>
  <script src="js/family.js"></script>
</body>

</html>