<!DOCTYPE html>
<html lang="vi">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dashboard - C·∫£o D·ªÖ Th∆∞∆°ng</title>
  <link href="https://cdn-uicons.flaticon.com/uicons-solid-rounded/css/uicons-solid-rounded.css" rel="stylesheet">
  <link href="https://cdn-uicons.flaticon.com/uicons-regular-rounded/css/uicons-regular-rounded.css" rel="stylesheet">


  <!-- CSS Files -->
  <link rel="stylesheet" href="css/reset.css">
  <link rel="stylesheet" href="css/variables.css">
  <link rel="stylesheet" href="css/main.css">
  <link rel="stylesheet" href="css/darkmode.css">
  <script src="js/darkmode.js"></script>
</head>

<style>
  .nav-icon {
    width: 25px;
  }
</style>

<script>
  // Ki·ªÉm tra ƒëƒÉng nh·∫≠p
  const currentUser = JSON.parse(localStorage.getItem('currentUser'));

  if (!currentUser) {
    // Ch∆∞a ƒëƒÉng nh·∫≠p ‚Üí v·ªÅ trang login
    window.location.href = 'login.html';
  } else {
    // ƒê√£ ƒëƒÉng nh·∫≠p ‚Üí hi·ªÉn th·ªã th√¥ng tin user
    console.log('üë§ Logged in as:', currentUser.username);

    // C·∫≠p nh·∫≠t username tr√™n header (n·∫øu c√≥ element)
    const logoText = document.querySelector('.header-logo span');
    if (logoText) {
      logoText.textContent = currentUser.username;
    }

    // C·∫≠p nh·∫≠t avatar
    const avatar = document.querySelector('.header-avatar');
    if (avatar) {
      avatar.textContent = currentUser.role === 'family' ? 'üë®‚Äçüë©‚Äçüëß' : 'üë§';
    }
  }

  // H√†m ƒëƒÉng xu·∫•t
  function logout() {
    localStorage.removeItem('currentUser');
    window.location.href = 'login.html';
  }
</script>

<body>

  <!-- ==================== SIDEBAR ==================== -->
  <aside class="sidebar">
    <div class="sidebar-icon">‚ò∞</div>
    <a href="dashboard.html">
      <div class="sidebar-icon active"><i class="fi fi-sr-home"></i></div>
    </a>
    <a href="chat.html">
      <div class="sidebar-icon"><i class="fi fi-sr-comment-alt-dots"></i></div>
    </a>
    <a href="journal.html">
      <div class="sidebar-icon"><i class="fi fi-sr-document"></i></div>
    </a>
    <a href="photos.html">
      <div class="sidebar-icon"><i class="fi fi-sr-picture"></i></div>
    </a>
    <div class="sidebar-icon"><i class="fi fi-sr-calendar"></i></div>
    <div class="sidebar-icon"><i class="fi fi-sr-house-chimney"></i></div>

    <div class="sidebar-spacer"></div>

    <div class="sidebar-icon"><i class="fi fi-sr-user"></i></div>
  </aside>

  <!-- ==================== HEADER ==================== -->
  <header class="header">
    <!-- Logo Section -->
    <div class="header-logo">
      <div class="header-logo-icon"></div>
      <span>Breaking The Limit</span>
    </div>

    <!-- Navigation Menu -->
    <nav class="header-nav">
      <div class="nav-item active">
        <div class="nav-icon"><img src="assets/chart-simple.png" alt=""></div>
        <span>Dashboard</span>
      </div>
      <div class="nav-item">
        <div class="nav-icon"><img src="assets/book-alt.png" alt=""></div>
        <span>Journal</span>
        <div class="nav-badge">1</div>
      </div>
      <div class="nav-item">
        <div class="nav-icon"><img src="assets/user-robot.png" alt=""></div>
        <span>Chat AI</span>
      </div>
      <div class="nav-item">
        <div class="nav-icon"><img src="assets/camera.png" alt=""></div>
        <span>Photos</span>
      </div>
      <div class="nav-item">
        <div class="nav-icon"><img src="assets/link-alt.png" alt=""></div>
        <span>Connections</span>
      </div>
    </nav>

    <!-- Action Buttons -->
    <div class="header-actions">
      <button class="btn-create">Create Invite Link</button>
      <div class="header-avatar"><i class="fi fi-sr-user"></i></div>
    </div>
  </header>

  <!-- ==================== MAIN CONTENT ==================== -->
  <main class="main-container">
    <div class="dashboard-content">

      <!-- ========== LEFT COLUMN ========== -->
      <div class="col-left">

        <!-- CARD 1: Dashboard Overview -->
        <div class="card">
          <h3 class="card-title">Dashboard Overview</h3>

          <!-- Streak Circle -->
          <div class="streak-container">
            <div class="streak-circle">
              <svg viewBox="0 0 200 200">
                <defs>
                  <linearGradient id="gradient" x1="0%" y1="0%" x2="100%" y2="100%">
                    <stop offset="0%" style="stop-color:#ff7b0000;stop-opacity:1" />
                    <stop offset="50%" style="stop-color:#ff7b0078;stop-opacity:1" />
                    <stop offset="100%" style="stop-color:#FF7A00;stop-opacity:1" />
                  </linearGradient>
                </defs>
                <circle cx="100" cy="100" r="80" class="circle-bg" />
                <circle cx="100" cy="100" r="80" class="circle-progress" />
              </svg>
              <div class="streak-number">
                <span class="big-number">45</span>
                <span class="streak-label">Ng√†y</span>
                <span class="streak-sublabel">Consecutive Days</span>
              </div>
            </div>
          </div>

          <!-- Mood Chart -->
          <div class="mood-chart-section">
            <h4 class="mood-chart-title">Mood Chart</h4>
            <div class="mood-chart-placeholder">
              <i class="fi fi-sr-chart-simple"></i> Chart s·∫Ω xu·∫•t hi·ªán ·ªü ƒë√¢y (Phase 2)
            </div>
          </div>
        </div>

        <!-- CARD 2: Quick Actions -->
        <div class="card">
          <h3 class="card-title">Quick Actions</h3>
          <div class="quick-actions-grid">
            <a href="journal.html">
              <button class="action-btn action-primary">
                <span class="action-btn-icon"><i class="fi fi-sr-pen-clip"></i></span>
                Write Journal
              </button>
            </a>
            <a href="chat.html">
              <button class="action-btn action-secondary">
                <span class="action-btn-icon">üí¨</span>
                Chat with AI
              </button>
            </a>
            <button class="action-btn action-neutral">
              <span class="action-btn-icon"><i class="fi fi-sr-users"></i></span>
              Chat with
            </button>
            <button class="action-btn action-neutral">
              <span class="action-btn-icon"><i class="fi fi-sr-camera"></i></span>
              Upload Photo
            </button>
          </div>
        </div>

        <!-- CARD 3: Connections -->
        <div class="card">
          <h3 class="card-title">Connections</h3>

          <div class="connection-section">
            <h4 class="connection-title">Parent Child</h4>

            <div class="connection-row">
              <span class="connection-label">Share Mood Data</span>
              <div class="toggle-switch active"></div>
            </div>

            <div class="connection-row">
              <span class="connection-label">Invite Parent</span>
              <button class="btn-invite">Invite</button>
            </div>
          </div>

          <div class="connection-section">
            <h4 class="connection-title">Friend Connection</h4>
            <div class="connection-row">
              <span class="connection-label"></span>
              <button class="btn-invite">Invite Friend</button>
            </div>
          </div>
        </div>

      </div>

      <!-- ========== RIGHT COLUMN ========== -->
      <div class="col-right">

        <!-- CARD 4: AI Chat Friend -->
        <div class="card card-ai-chat">
          <h3 class="card-title">AI Chat Friend</h3>

          <div class="chat-avatar-section">
            <div class="chat-avatar">üê±</div>
            <div class="chat-info">
              <h4>Kem Bu·ªìn</h4>
              <p>Tell me about your day!</p>
            </div>
          </div>

          <div class="chat-input-wrapper">
            <input type="text" class="chat-input" placeholder="Message">
            <button class="btn-send">üöÄ</button>
          </div>
        </div>

        <!-- CARD 5: Mood Check -->
        <div class="card">
          <h3 class="card-title">H√¥m nay b·∫°n th·∫ø n√†o?</h3>

          <div class="mood-tabs">
            <button class="mood-tab active">B√¨nh y√™n</button>
            <button class="mood-tab">CƒÉng th·∫≥ng</button>
          </div>

          <div class="mood-tags">
            <span class="mood-tag">‚ù§Ô∏è #vui</span>
            <span class="mood-tag">üôè #vui</span>
            <span class="mood-tag">üòä l√≠nh_y√™n</span>
            <span class="mood-tag play">#vui_b√¨nh_y√™na</span>
          </div>

          <button class="btn-primary">G·ª≠i t√¢m t∆∞</button>
        </div>

        <!-- CARD 6: Latest Memories -->
        <div class="card">
          <h3 class="card-title">Latest Memories</h3>

          <div class="photo-grid">
            <div class="photo-item">
              <img src="https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=200" alt="Memory">
            </div>
            <div class="photo-item">
              <img src="https://images.unsplash.com/photo-1501594907352-04cda38ebc29?w=200" alt="Memory">
            </div>
            <div class="photo-item">
              <img src="https://images.unsplash.com/photo-1469474968028-56623f02e42e?w=200" alt="Memory">
            </div>
            <div class="photo-item">
              <img src="https://images.unsplash.com/photo-1470071459604-3b5ec3a7fe05?w=200" alt="Memory">
            </div>
            <div class="photo-item">
              <img src="https://images.unsplash.com/photo-1441974231531-c6227db76b6e?w=200" alt="Memory">
            </div>
            <div class="photo-item">
              <img src="https://images.unsplash.com/photo-1426604966848-d7adac402bff?w=200" alt="Memory">
            </div>
            <div class="photo-item">
              <img src="https://images.unsplash.com/photo-1472214103451-9374bd1c798e?w=200" alt="Memory">
            </div>
            <div class="photo-item">
              <img src="https://images.unsplash.com/photo-1433086966358-54859d0ed716?w=200" alt="Memory">
            </div>
          </div>

          <button class="btn-view-all">View All Photos</button>
        </div>

        <!-- CARD 7: Drawing Canvas Preview -->
        <div class="card">
          <h3 class="card-title">Drawing Canvas Preview</h3>

          <div class="canvas-preview">
            <div class="canvas-thumbnail"><i class="fi fi-sr-palette"></i></div>
          </div>

          <div class="canvas-controls">
            <span class="canvas-play-icon"><i class="fi fi-sr-pause"></i></span>
            <span class="canvas-status">Playing Canvas</span>
          </div>

          <div class="canvas-actions">
            <button class="btn-canvas-invite">Invite Friend</button>
            <button class="btn-canvas-close">‚úï</button>
          </div>
        </div>

      </div>

    </div>
  </main>

  <!-- JavaScript (Phase 2) -->
  <link rel="stylesheet" href="css/darkmode.css">
  <link rel="stylesheet" href="css/settings.css">
  <script src="js/darkmode.js"></script>
  <script src="js/settings.js"></script>
  <script src="js/app.js"></script>

</body>

</html>